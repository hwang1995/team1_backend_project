<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.team1.healthcare.dao.NoticesDAO">

	
	<insert id="insertNotice" parameterType="string">
      insert into notices
      (notice_id, notice_title, notice_content,
      notice_author, create_date, hospital_code, member_code, notice_head_text, notice_head_image, notice_count) 
      values
      (#{notice_id}, #{notice_title}, #{notice_content}, #{notice_author}, #{create_date}, #{hospital_code}, #{member_code},
      #{notice_head_text}, #{notice_head_image}, #{notice_count})
   </insert>  

   <select id="searchByNoticeName" parameterType="string" resultType="notice"> 
      select notice_id, notice_title, notice_head_text, notice_author, create_date
      from notices 
      where notice_title LIKE '%'+#{notice_title}+'%'
   </select> 
   
   <update id="updateNoticeCountByNoticeId" >
      update notices 
      set notice_count = notice_count + 1 
      where notice_id=#{notice_id}
   </update>
   
   
   <update id="updateNotice" parameterType="">
      update notices 
      set notice_title=#{notice_title}, notice_content=#{notice_content}, notice_head_text=#{notice_head_text}, notice_head_image=#{notice_head_image}
   	  where notice_id=#{notice_id}
   </update>
   
   <delete id="deleteByNoticeId" parameterType="string">
      delete from notices 
      where notice_id=#{notice_id}
   </delete>

</mapper>